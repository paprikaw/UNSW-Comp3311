<html>
<head>
<title>ER&rightarrow;Relational Mapping</title>
<link href='lib/slides.css' rel='stylesheet' type='text/css'>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML" async></script>
<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
<link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet'>
<link href='lib/prism.css' rel='stylesheet'>
<script src='lib/sg.js'></script>
</head>
<body>
 <DIV class='slideCl1' id="s0"  >
<div class='navCl1'><a href="#s1"><span class='nextArrowCl'>>></span></a> </div> <div class='heading'>ER&rightarrow;Relational Mapping</div><p><ul class='indexUl'  style='font-size: 0.7em;'><li class="i"> <a href="#s1">ER to Relational Mapping</a>
<li class="i"> <a href="#s2">Relational Model vs ER Model</a>
<li class="i"> <a href="#s3">Mapping Strong Entities</a>
<li class="i"> <a href="#s4">Mapping Weak Entities</a>
<li class="i"> <a href="#s5">Mapping N:M Relationships</a>
<li class="i"> <a href="#s6">Mapping 1:N Relationships</a>
<li class="i"> <a href="#s7">Mapping 1:1 Relationships</a>
<li class="i"> <a href="#s9">Mapping n-way Relationships</a>
<li class="i"> <a href="#s10">Mapping Composite Attributes</a>
<li class="i"> <a href="#s11">Mapping Multi-valued Attributes (MVAs)</a>
<li class="i"> <a href="#s14">Mapping Subclasses</a>
</ul></DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [0/17]</div> <DIV class='slideCl1    ' id="s1"  >
<div class='navCl1'> <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s2"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; ER to Relational Mapping</div></td><td align='right'></td></tr></table>
<p>
Reminder: a useful strategy for database design:
<ul>
<li> perform initial data modelling using ER <br>
	<small>(conceptual-level modelling)</small>
<li> transform conceptual design into relational model <br>
	<small>(implementation-level modelling)</small>
</ul>
A formal mapping exists for ER model <i>&rarr;</i> Relational model.
<p>
This maps "structures"; but additional info is needed, e.g.
<ul>
<li> concrete domains for attributes and other constraints
</ul>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [1/17]</div> <DIV class='slideCl1    ' id="s2"  >
<div class='navCl1'><a href="#s1"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s3"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Relational Model vs ER Model</div></td><td align='right'></td></tr></table>
<p>
Correspondences between relational and ER data models:
<ul>
<li> attribute<small>(ER)</small> <i>&cong;</i> attribute<small>(Rel)</small>,&nbsp;
entity<small>(ER)</small> <i>&cong;</i> tuple<small>(Rel)</small>
<li> entity set<small>(ER)</small> <i>&cong;</i> relation<small>(Rel)</small>,&nbsp;
relationship<small>(ER)</small> <i>&cong;</i> relation<small>(Rel)</small>
</ul>
Differences between relational and ER models:
<ul>
<li> Rel uses relations to model entities <i>and</i> relationships
<li> Rel has no composite or multi-valued attributes <small>(only atomic)</small>
<li> Rel has no object-oriented notions <small>(e.g. subclasses, inheritance)</small>
</ul>
<br>
<small>
Note that ...
<ul>
<li> not all aspects of ER cab be represented exactly in a relational schema
<li> some aspects of relational schemas (e.g. domains) do not appear in ER
</ul>
</small>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [2/17]</div> <DIV class='slideCl1    ' id="s3"  >
<div class='navCl1'><a href="#s2"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s4"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping Strong Entities</div></td><td align='right'></td></tr></table>
<p>
An entity set <i>E</i> with atomic attributes
	<i>a<sub>1</sub>, a<sub>2</sub>, ... a<sub>n</sub></i>
<p>
maps to
<p>
A relation <i>R</i> with attributes (columns)
	<i>a<sub>1</sub>, a<sub>2</sub>, ... a<sub>n</sub></i>
<p>
Example:
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/strongent.png]" src="Pics/er-rel/strongent.png">
</div><p>
<br>
Note: the key is preserved in the mapping.
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [3/17]</div> <DIV class='slideCl1    ' id="s4"  >
<div class='navCl1'><a href="#s3"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s5"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping Weak Entities</div></td><td align='right'></td></tr></table>
<p>
Example:
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/mapwkent.png]" src="Pics/er-rel/mapwkent.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [4/17]</div> <DIV class='slideCl1    ' id="s5"  >
<div class='navCl1'><a href="#s4"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s6"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping N:M Relationships</div></td><td align='right'></td></tr></table>
<p>
Example:
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/mapnnrel.png]" src="Pics/er-rel/mapnnrel.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [5/17]</div> <DIV class='slideCl1    ' id="s6"  >
<div class='navCl1'><a href="#s5"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s7"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping 1:N Relationships</div></td><td align='right'></td></tr></table>
<p>
Example:
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/map1nrel2.png]" src="Pics/er-rel/map1nrel2.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [6/17]</div> <DIV class='slideCl1    ' id="s7"  >
<div class='navCl1'><a href="#s6"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s8"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping 1:1 Relationships</div></td><td align='right'></td></tr></table>
<p>
Example:
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/map11rel.png]" src="Pics/er-rel/map11rel.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [7/17]</div> <DIV class='slideCl1    ' id="s8"  >
<div class='navCl1'><a href="#s7"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s9"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping 1:1 Relationships <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
If there is no reason to favour one side of the relationship ...
<p>
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/map11rel3.png]" src="Pics/er-rel/map11rel3.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [8/17]</div> <DIV class='slideCl1    ' id="s9"  >
<div class='navCl1'><a href="#s8"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s10"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping n-way Relationships</div></td><td align='right'></td></tr></table>
<p>
Relationship mappings above assume binary relationship.
<p>
If multiple entities are involved:
<ul>
<li> <i>n:m</i> generalises naturally to <i>n:m:p:q</i>
<ul>
<li> include foreign key for each participating entity
<li> include any other attributes of the relationship
</ul>
<li> other multiplicities (e.g. <i>1:n:m</i>) ...
<ul>
<li> need to be mapped the same as <i>n:m:p:q</i>
<li> so not quite an accurate mapping of the ER
</ul>
</ul>
Some people advocate converting n-way relationships into:
<ul>
<li> a new entity, and a set of <i>n</i> binary relationships
</ul>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [9/17]</div> <DIV class='slideCl1    ' id="s10"  >
<div class='navCl1'><a href="#s9"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s11"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping Composite Attributes</div></td><td align='right'></td></tr></table>
<p>
Composite attributes are mapped by concatenation or flattening.
<p>
Example:
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/mapstrent.png]" src="Pics/er-rel/mapstrent.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [10/17]</div> <DIV class='slideCl1    ' id="s11"  >
<div class='navCl1'><a href="#s10"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s12"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping Multi-valued Attributes (MVAs)</div></td><td align='right'></td></tr></table>
<p>
MVAs are mapped by a new table linking values to their entity.
<p>
Example:
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/mapmva.png]" src="Pics/er-rel/mapmva.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [11/17]</div> <DIV class='slideCl1    ' id="s12"  >
<div class='navCl1'><a href="#s11"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s13"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping Multi-valued Attributes (MVAs) <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
Analogy:
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/mapmva1.png]" src="Pics/er-rel/mapmva1.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [12/17]</div> <DIV class='slideCl1    ' id="s13"  >
<div class='navCl1'><a href="#s12"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s14"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping Multi-valued Attributes (MVAs) <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
Example: the two entities
<p><pre><small>
Person(12345, John, 12-feb-1990, <font color="#996600">[red,green,blue]</font>)
Person(54321, Jane, 25-dec-1990, <font color="#996600">[green,purple]</font>)
</small></pre><p>
would be represented as
<p><pre>
Person(12345, John, 12-feb-1990)
Person(54321, Jane, 25-dec-1990)
FavColour(12345, red)
FavColour(12345, green)
FavColour(12345, blue)
FavColour(54321, green)
FavColour(54321, purple)
</pre><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [13/17]</div> <DIV class='slideCl1    ' id="s14"  >
<div class='navCl1'><a href="#s13"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s15"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping Subclasses</div></td><td align='right'></td></tr></table>
<p>
Three different approaches to mapping subclasses to tables:
<ul>
<li> ER style
<small>
<ul>
<li> each entity becomes a separate table,
<li> containing attributes of subclass + FK to superclass table
</ul>
</small>
<li> object-oriented
<small>
<ul>
<li> each entity becomes a separate table,
<li> inheriting all attributes from all superclasses
</ul>
</small>
<li> single table with nulls
<small>
<ul>
<li> whole class hierarchy becomes one table,
<li> containing all attributes of all subclasses (null, if unused)
</ul>
</small>
</ul>
Which mapping is best depends on how data is to be used.
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [14/17]</div> <DIV class='slideCl1    ' id="s15"  >
<div class='navCl1'><a href="#s14"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s16"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping Subclasses <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
Example of ER-style mapping:
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/mapsubclass.png]" src="Pics/er-rel/mapsubclass.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [15/17]</div> <DIV class='slideCl1    ' id="s16"  >
<div class='navCl1'><a href="#s15"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s17"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping Subclasses <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
Example of object-oriented mapping:
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/mapsubclass2.png]" src="Pics/er-rel/mapsubclass2.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [16/17]</div> <DIV class='slideCl1    ' id="s17"  >
<div class='navCl1'><a href="#s16"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>   </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Mapping Subclasses <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
Example of single-table-with-nulls mapping:
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/mapsubclass3.png]" src="Pics/er-rel/mapsubclass3.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; ER&rightarrow;Rel Mapping &#9826; [17/17]</div><p><hr><p>
<span style='font-size:11px;color: grey;'>Produced: 10 Feb 2021</span>
 <script src='lib/prism.js'></script>   
 <script src='lib/sg.js'></script>   
</body>
</html>
