<html>
<head>
<title>Relational Model</title>
<link href='lib/slides.css' rel='stylesheet' type='text/css'>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML" async></script>
<script src='https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js'></script>
<link href='https://fonts.googleapis.com/css?family=Lato' rel='stylesheet'>
<link href='lib/prism.css' rel='stylesheet'>
<script src='lib/sg.js'></script>
</head>
<body>
 <DIV class='slideCl1' id="s0"  >
<div class='navCl1'><a href="#s1"><span class='nextArrowCl'>>></span></a> </div> <div class='heading'>Relational Model</div><p><ul class='indexUl'  style='font-size: 0.7em;'><li class="i"> <a href="#s1">Relational Data Model</a>
<li class="i"> <a href="#s5">Example Database Schema</a>
<li class="i"> <a href="#s7">Example Database (Instance)</a>
<li class="i"> <a href="#s8">Integrity Constraints</a>
<li class="i"> <a href="#s10">Referential Integrity</a>
<li class="i"> <a href="#s12">Relational Databases</a>
<li class="i"> <a href="#s13">Describing Relational Schemas</a>
</ul></DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; Rel Model &#9826; [0/13]</div> <DIV class='slideCl1    ' id="s1"  >
<div class='navCl1'> <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s2"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Relational Data Model</div></td><td align='right'></td></tr></table>
<p>
The <font color='#0000BB'>relational data model</font> describes the world as
<ul>
<li> a collection of inter-connected <font color='#0000BB'>relations</font> (or <font color='#0000BB'>tables</font>)
</ul>
The relational model has one structuring mechanism: <font color='#0000BB'>relations</font>
<ul>
<li> relations are used to model both entities and relationships
</ul>
Each <font color='#0000BB'>relation</font> <small>(denoted <i>R,S,T,...</i>)</small> has:
<ul>
<li> a <font color='#0000BB'>name</font> &nbsp; <small>(unique within a given database)</small>
<li> a set of <font color='#0000BB'>attributes</font> &nbsp; <small>(which can be viewed as column headings)</small>
</ul>
Each <font color='#0000BB'>attribute</font> <small>(denoted <i>A,B,...</i> or <i>a<sub>1</sub>,a<sub>2</sub>,...</i>)</small> has:
<ul>
<li> a <font color='#0000BB'>name</font> &nbsp; <small>(unique within a given relation)</small>
<li> an associated <font color='#0000BB'>domain</font> &nbsp; <small>(set of allowed values)</small>
</ul>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; Rel Model &#9826; [1/13]</div> <DIV class='slideCl1    ' id="s2"  >
<div class='navCl1'><a href="#s1"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s3"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Relational Data Model <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
Consider relation <i>R</i> with attributes
<i>a<sub>1</sub>, a<sub>2</sub>, ... a<sub>n</sub></i>
<p>
<font color='#0000BB'>Relation schema</font> of <i>R</i> : &nbsp;
<i><b>R</b>(a<sub>1</sub>:D<sub>1</sub>, a<sub>2</sub>:D<sub>2</sub>, ... a<sub>n</sub>:D<sub>n</sub>)</i>
<p>
<font color='#0000BB'>Tuple</font> of <i>R</i> : an element of <i>D<sub>1</sub> &times; D<sub>2</sub> &times; ... &times; D<sub>n</sub></i> &nbsp; <small>(i.e. list of values)</small>
<p>
<font color='#0000BB'>Instance</font> of <i>R</i> :
subset of <i>D<sub>1</sub> &times; D<sub>2</sub> &times; ... &times; D<sub>n</sub></i> &nbsp; <small>(i.e. set of tuples)</small>
<p>
Note: &nbsp;
tuples:  (2,3) &nbsp;&ne;&nbsp; (3,2) &nbsp;&nbsp;&nbsp;
relation:  { (a,b), (c,d) } &nbsp;=&nbsp; { (c,d), (a,b) }
<p>
Domains are comprised of atomic values &nbsp; <small>(e.g. integer, string, date)</small>
<p>
A distinguished value <large><code>NULL</code></large> belongs to all domains
<p>
Each relation has a <font color='#0000BB'>key</font> &nbsp; <small>(subset of attributes unique for each tuple)</small>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; Rel Model &#9826; [2/13]</div> <DIV class='slideCl1    ' id="s3"  >
<div class='navCl1'><a href="#s2"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s4"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Relational Data Model <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
A relation: &nbsp; <large><code>Account(branchName, accountNo, balance)</code></large>
<p>
And an <i>instance</i>&nbsp; of this relation:
<p><pre>
{
  (Sydney, A-101, 500),
  (Coogee, A-215, 700),
  (Parramatta, A-102, 400),
  (Rouse Hill, A-305, 350),
  (Brighton, A-201, 900),
  (Kingsford, A-222, 700)
  (Brighton, A-217, 750)
}
</pre><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; Rel Model &#9826; [3/13]</div> <DIV class='slideCl1    ' id="s4"  >
<div class='navCl1'><a href="#s3"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s5"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Relational Data Model <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
<large><code>Account</code></large> relation as a table:
<p>
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/rel-table.png]" src="Pics/er-rel/rel-table.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; Rel Model &#9826; [4/13]</div> <DIV class='slideCl1    ' id="s5"  >
<div class='navCl1'><a href="#s4"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s6"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Example Database Schema</div></td><td align='right'></td></tr></table>
<p>
Consider the following ER data model:
<p><br>
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/schemaER.png]" src="Pics/er-rel/schemaER.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; Rel Model &#9826; [5/13]</div> <DIV class='slideCl1    ' id="s6"  >
<div class='navCl1'><a href="#s5"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s7"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Example Database Schema <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
Relational schema derived from this ER model:
<p><br>
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/schema.png]" src="Pics/er-rel/schema.png">
</div><p>
<p><br>
<small>
Note: distinguish attributes via e.g. <large><code>Branch.address</code></large> vs <large><code>Customer.address</code></large>
</small>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; Rel Model &#9826; [6/13]</div> <DIV class='slideCl1    ' id="s7"  >
<div class='navCl1'><a href="#s6"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s8"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Example Database (Instance)</div></td><td align='right'></td></tr></table>
<p>
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/rel-tables.png]" src="Pics/er-rel/rel-tables.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; Rel Model &#9826; [7/13]</div> <DIV class='slideCl1    ' id="s8"  >
<div class='navCl1'><a href="#s7"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s9"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Integrity Constraints</div></td><td align='right'></td></tr></table>
<p>
To represent real-world problems, need to describe
<ul>
<li> what values are/are not allowed
<li> what combinations of values are/are not allowed
</ul>
<font color='#0000BB'>Constraints</font> are logical statements that do this:
<ul>
<li> <font color='#0000BB'>domain constraints</font>: <br> limit the set of values that attributes can take
<li> <font color='#0000BB'>key constraints</font>: <br> identify attributes that uniquely identify tuples
<li> <font color='#0000BB'>entity integrity constraints</font>: require keys to be fully-defined
<li> <font color='#0000BB'>referential integrity constraints</font>: <br> require references to other tables to be valid
</ul>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; Rel Model &#9826; [8/13]</div> <DIV class='slideCl1    ' id="s9"  >
<div class='navCl1'><a href="#s8"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s10"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Integrity Constraints <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
<font color='#0000BB'>Domain constraints</font> example:
<ul>
<li> <large><code>Employee.age</code></large> attribute is typically defined as <large><code>integer</code></large>
<li> better modelled by adding extra constraint <large><code>(15&lt;age&lt;66)</code></large>
</ul>
Note: <large><code>NULL</code></large> satisfies all domain constraints
	&nbsp; <small>(except (NOT NULL))</small>
<p>
<font color='#0000BB'>Key constraints</font> example:
<ul>
<li> <large><code>Student(id, ...)</code></large> is guaranteed unique
<li> <large><code>Class(...,day,time,location,...)</code></large> is unique
</ul>
<p>
<font color='#0000BB'>Entity integrity</font> example:
<ul>
<li> <large><code>Class(...,Mon,2pm,Lyre,...)</code></large> is well-defined
<li> <large><code>Class(...,</code></large><b>NULL</b><large><code>,2pm,Lyre,...)</code></large> is not well-defined
</ul>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; Rel Model &#9826; [9/13]</div> <DIV class='slideCl1    ' id="s10"  >
<div class='navCl1'><a href="#s9"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s11"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Referential Integrity</div></td><td align='right'></td></tr></table>
<p>
<font color='#0000BB'>Referential integrity constraints</font>
<ul>
<li> describe references between relations (tables)
<li> are related to notion of a <font color='#0000BB'>foreign key</font> (FK)
</ul>
Example:
<p><div align='center'>
<img alt="[Diagram:Pics/er-rel/fkeys.png]" src="Pics/er-rel/fkeys.png">
</div><p>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; Rel Model &#9826; [10/13]</div> <DIV class='slideCl1    ' id="s11"  >
<div class='navCl1'><a href="#s10"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s12"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Referential Integrity <span style="font-size:67%">(cont)</span></div></td><td align='right'></td></tr></table>
<p>
A set of attributes <i>F</i>&nbsp; in relation <i>R<sub>1</sub></i>&nbsp;
	is a <font color='#0000BB'>foreign key</font> for <i>R<sub>2</sub></i>&nbsp; if:
<ul>
<li> the attributes in <i>F</i>&nbsp; correspond to the primary key of <i>R<sub>2</sub></i>
<li> the value for <i>F</i>&nbsp; in each tuple of <i>R<sub>1</sub></i>
<ul>
<li> either &nbsp; occurs as a primary key in <i>R<sub>2</sub></i>
<li> or &nbsp; is entirely <large><code>NULL</code></large>
</ul>
</ul>
Foreign keys are critical in relational DBs; they provide ...
<ul>
<li> the "glue" that links individual relations (tables)
<li> the way to assemble query answers from multiple tables
<li> the relational representation of ER relationships
</ul>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; Rel Model &#9826; [11/13]</div> <DIV class='slideCl1    ' id="s12"  >
<div class='navCl1'><a href="#s11"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>  <a href="#s13"><span class='nextArrowCl'> >> </span></a> </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Relational Databases</div></td><td align='right'></td></tr></table>
<p>
A <font color='#0000BB'>relational database schema</font> is
<ul>
<li> a set of relation schemas
	&nbsp; <i>{ R<sub>1</sub>, &nbsp; R<sub>2</sub>, &nbsp;...&nbsp; R<sub>n</sub> }</i> ,
	&nbsp; and
<li> a set of integrity constraints
</ul>
A <font color='#0000BB'>relational database instance</font> is
<ul>
<li> a set of relation instances
	&nbsp; <i>{ r<sub>1</sub>(R<sub>1</sub>), &nbsp; r<sub>2</sub>(R<sub>2</sub>), &nbsp;...&nbsp; r<sub>n</sub>(R<sub>n</sub>) }</i>
<li> where all of the integrity constraints are satisfied
</ul>
One of the important functions of a relational DBMS:
<ul>
<li> ensure that all data in the database satisfies constraints
</ul>
Changes to the data fail if they would cause constraint violation
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; Rel Model &#9826; [12/13]</div> <DIV class='slideCl1    ' id="s13"  >
<div class='navCl1'><a href="#s12"><span class='prevArrowCl'> << </span></a>  <a href="#s0"><span class='upArrowCl'>&and;</span></a>   </div> <table width='100%' cellpadding='0'>
<tr valign='top'><td align='left'><div class='heading'>&#10070; Describing Relational Schemas</div></td><td align='right'></td></tr></table>
<p>
We need a language to express relational schemas <br>
<small>(which is more detailed than boxes-and-arrows diagrams used above)</small>
<p>
SQL provides a <font color='#0000BB'>D</font>ata <font color='#0000BB'>D</font>efinition <font color='#0000BB'>L</font>anguage (DDL) for this.
<p>
<pre>
<b>CREATE TABLE</b> <i>TableName</i> <b>(</b>
   <i>attrName<sub>1</sub></i> <i>domain<sub>1</sub></i> <i>constraints<sub>1</sub></i> <b>,</b>
   <i>attrName<sub>2</sub></i> <i>domain<sub>2</sub></i> <i>constraints<sub>2</sub></i> <b>,</b>
   ...
   <b>PRIMARY KEY</b> (<i>attr<sub>i</sub></i>,<i>attr<sub>j</sub></i>,...),
   <b>FOREIGN KEY</b> (<i>attr<sub>x</sub></i>,<i>attr<sub>y</sub></i>,...)
               <b>REFERENCES</b>
               <i>OtherTable</i> (<i>attr<sub>m</sub></i>,<i>attr<sub>n</sub></i>,...), ...
<b>);</b>
</pre>
<br>
<small>To be continued ...</small>
</DIV>
<div class='slideNumCl2'>COMP3311 21T1 &#9826; Rel Model &#9826; [13/13]</div><p><hr><p>
<span style='font-size:11px;color: grey;'>Produced: 10 Feb 2021</span>
 <script src='lib/prism.js'></script>   
 <script src='lib/sg.js'></script>   
</body>
</html>
